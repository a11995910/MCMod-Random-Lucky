# Random Lucky Mod

一个为Minecraft 1.20.1添加创意合成和强化机制的模组。

## 🎯 项目概述

Random Lucky Mod为Minecraft带来了四个独特的游戏机制：
- **随机物品合成**：使用木棍创造惊喜
- **装备强化系统**：让你的装备变得更强
- **血量增强面包**：永久提升生命值上限
- **超级苹果**：获得永久的强力效果

## ✨ 核心功能

### 1. 随机物品合成 🎲
- **合成方式**：在3×3工作台中放入9个木棍
- **效果**：随机获得一个物品
- **可能物品**：钻石、绿宝石、黄金、铁锭、红石等30+种物品

### 2. 装备强化系统 ⚔️
- **合成方式**：将三个相同装备在工作台中横向排列
- **效果**：中间装备获得强化，属性和耐久度翻倍
- **强化上限**：最多可强化9次
- **适用装备**：
  - 武器（剑、斧、三叉戟）
  - 工具（镐、铲、锄）
  - 护甲（头盔、胸甲、护腿、靴子）
  - 弓弩
- **耐久度强化**：每次强化耐久度翻倍，保持当前损坏比例

### 3. 血量增强面包 ❤️
- **合成方式**：钻石为中心，周围8个面包
- **效果**：食用后永久增加1颗心（2点血量）
- **上限**：最多增加400颗心

### 4. 超级苹果 🍎
- **合成方式**：钻石为中心，周围8个苹果
- **效果**：食用后获得永久的夜视、抗火、急速效果
- **特性**：每个玩家只能食用一次，多次食用不叠加

## 🛠️ 技术栈

- **Minecraft版本**：1.20.1
- **Forge版本**：47.3.0
- **Java版本**：17
- **开发工具**：Gradle 8.0+

## 📁 项目结构

```
randomlucky/
├── src/main/java/com/randomlucky/mod/
│   ├── RandomLuckyMod.java           # 主模组类
│   ├── common/
│   │   ├── registry/
│   │   │   ├── ModItems.java         # 物品注册
│   │   │   └── ModRecipes.java       # 配方注册
│   │   ├── item/
│   │   │   ├── HealthBreadItem.java  # 血量面包物品
│   │   │   └── EnhancementUtils.java # 强化工具类
│   │   ├── recipe/
│   │   │   ├── RandomItemRecipe.java # 随机物品配方
│   │   │   └── EnhancementRecipe.java # 强化配方
│   │   └── event/
│   │       ├── EnhancementEventHandler.java # 强化事件处理
│   │       └── TooltipEventHandler.java     # 提示事件处理
├── src/main/resources/
│   ├── META-INF/mods.toml            # 模组配置
│   ├── assets/randomlucky/           # 资源文件
│   └── data/randomlucky/             # 数据文件
└── build.gradle                     # 构建配置
```

## 🚀 开发流程

### 环境设置
1. 安装Java 21
2. 克隆项目：`git clone <project-url>`
3. 运行设置：`./gradlew setup`

### 开发命令
- **客户端测试**：`./gradlew runClient`
- **服务器测试**：`./gradlew runServer`
- **构建模组**：`./gradlew build`
- **生成IDE配置**：`./gradlew genIntellijRuns`

### 代码规范
- 使用驼峰命名法
- 中文注释
- 不使用缩写
- 遵循Minecraft Forge最佳实践

## 📋 开发事项

### ✅ 已完成
- [x] 项目基础框架搭建
- [x] 随机物品合成系统
- [x] 装备强化系统
- [x] 血量增强面包功能
- [x] 本地化支持（中文/英文）
- [x] 物品模型和贴图
- [x] 修复1.21.1 API兼容性问题
- [x] 解决运行时崩溃问题
- [x] 成功构建可运行的mod JAR文件
- [x] 适配Minecraft 1.20.1版本

### 🔄 进行中
- [ ] 最终测试验证

### 📝 待办事项
- [ ] 服务器兼容性测试
- [ ] 性能优化
- [ ] 更多随机物品
- [ ] 配置文件支持
- [ ] 成就系统集成

## 🎮 游戏机制详解

### 强化系统算法
- **强化等级**：1-9级
- **属性倍数**：2^强化等级
- **强化方式**：三个相同装备横排合成
- **显示效果**：物品名称前添加[+等级]前缀

### 随机物品权重
所有物品等权重随机，包括：
- 矿物类：钻石、绿宝石、金锭等
- 材料类：红石、青金石、火药等
- 食物类：面包、苹果、胡萝卜等
- 工具材料：羽毛、皮革、线等

## 🔧 配置说明

### mods.toml配置
- **模组ID**：randomlucky
- **显示名称**：Random Lucky Mod
- **版本**：1.0.0
- **依赖**：Forge 47+, Minecraft 1.20.1+

### 本地化
支持简体中文(zh_cn)和英文(en_us)。

## 🐛 已知问题

- ~~强化装备的耐久度显示可能需要刷新~~ （已修复）
- ~~某些模组物品可能不兼容强化系统~~ （已修复）
- ~~血量增强在某些情况下可能需要重新登录生效~~ （已修复）
- ~~运行时崩溃问题~~ （已修复，现已可正常运行）

## 🔧 安装使用

### 系统要求
- Minecraft 1.20.1
- Minecraft Forge 47.3.0+
- Java 17+

### 安装步骤
1. 下载最新版本的mod JAR文件：`randomlucky-1.20.1-1.0.0.jar`
2. 确保已安装Minecraft Forge 47.3.0或更高版本
3. 将JAR文件放入Minecraft mods文件夹
4. 启动游戏即可使用

## 🤝 贡献指南

1. Fork本项目
2. 创建功能分支
3. 提交更改
4. 创建Pull Request

## 📄 许可证

All Rights Reserved

## 📞 联系方式

- 问题反馈：请在GitHub Issues中提交
- 功能建议：欢迎在Issues中讨论

---

*该模组旨在为Minecraft带来更多趣味性和策略性的游戏体验。*